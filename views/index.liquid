{% render 'partials/head.liquid', title: 'Squad page' %}

<header class="page-header">
  <h1>Classified</h1>
  <p>Case board</p>
</header>

<main>
  <form action="/">
    <label for="squad">Filter squad:</label>
    <select id="squad" name="squad">
      <option value="">Alle squads</option>
      <option value="1I">1I</option>
      <option value="1J">1J</option>
    </select>
    <button type="submit">Filter</button>
  </form>

  <section class="board" id="grid">
    {% comment %} Loopt over elk persoon {% endcomment %}
    {% for person in persons %}

      {% assign redacted = "████████" %}

      {% comment %} Link kiezen: profilecard > website > github repo {% endcomment %}
      {% if person.profilecard %}
        <a class="dossier card-link" href="{{ person.profilecard }}" target="_blank" rel="noopener">
      {% elsif person.website %}
        <a class="dossier card-link" href="{{ person.website }}" target="_blank" rel="noopener">
      {% else %}
        <a class="dossier card-link" href="https://github.com/{{ person.github_handle }}/connect-your-tribe-squad-page" target="_blank" rel="noopener">
      {% endif %}

        <article class="card">
          <figure class="photo">
            {% comment %} Foto kiezen: mugshot > avatar > fallback {% endcomment %}
            {% if person.mugshot %}
              <img src="https://fdnd.directus.app/assets/{{ person.mugshot }}?width=500" alt="Profile picture">
            {% elsif person.avatar %}
              <img src="{{ person.avatar }}?width=500" alt="Avatar">
            {% else %}
              <img src="https://kopo.nl/KOP3.JPG" alt="Default profile picture">
              <span class="redacted-bar"></span>
            {% endif %}
          </figure>

          <section class="meta">
            {% comment %} Case label met ID {% endcomment %}
            <p class="label">CASE FILE {{ person.id }}-4A-OC-56120</p>

            {% comment %} Naam tonen {% endcomment %}
            <h2 class="name">
              {% if person.name %}
                {{ person.name }}
              {% else %}
                <span class="redacted">{{ redacted }}</span>
              {% endif %}
            </h2>

            {% comment %} Chips met jouw velden {% endcomment %}
            <ul class="chips">
              <li>
                ID:
                {% if person.id %}
                  {{ person.id }}
                {% else %}
                  <span class="redacted">{{ redacted }}</span>
                {% endif %}
              </li>

              <li>
                Bijnaam:
                {% if person.bijnaam %}
                  {{ person.bijnaam }}
                {% else %}
                  <span class="redacted">{{ redacted }}</span>
                {% endif %}
              </li>

              <li>
                Geboortedatum:
                {% if person.birthdate %}
                  {{ person.birthdate | date: '%d-%m-%Y' }}
                {% else %}
                  <span class="redacted">{{ redacted }}</span>
                {% endif %}
              </li>

              <li>
                Woonplaats:
                {% if person.woonplaats %}
                  {{ person.woonplaats }}
                {% else %}
                  <span class="redacted">{{ redacted }}</span>
                {% endif %}
              </li>

              <li>
                Hobby:
                {% if person.fav_hobby %}
                  {{ person.fav_hobby }}
                {% else %}
                  <span class="redacted">{{ redacted }}</span>
                {% endif %}
              </li>
            </ul>

            <p class="dob-row">
              <strong class="stamp">CONFIDENTIAL</strong>
            </p>
          </section>
        </article>

      </a>

    {% endfor %}
  </section>
</main>

{% render 'partials/foot.liquid', squads: squads %}
